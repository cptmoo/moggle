<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moggle</title>
  <script>
    window.MOGGLE_VERSION = "20260215";   
  </script>
</head>

<body>
  <div id="app"></div>

  <script>
    (function () {
      const v = window.MOGGLE_VERSION;

      // Load CSS
      const link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = `style.css?v=${v}`;
      document.head.appendChild(link);

      // Load Vue first
      const vue = document.createElement("script");
      vue.src = `./vendor/vue.global.prod.js?v=${v}`;
      vue.onload = function () {
        // Then load app.js
        const app = document.createElement("script");
        app.src = `app.js?v=${v}`;
        document.body.appendChild(app);
      };
      vue.onerror = function () {
        console.error("Failed to load Vue:", vue.src);
      };

      document.body.appendChild(vue);
    })();
  </script>
</body>
</html>
